<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rules and Conventions &mdash; PARCS 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=8d563738"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="Missing Graphs" href="../features/m_graphs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/parcs_dark_small.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/theoretical_background.html">Theoretical background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/first_graph.html">Creating the First Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/function_list.html">Available Functions and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/nodes_and_edges.html">Nodes and Edges</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/partial_randomization.html">Partial Randomization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/interventions.html">Interventions and Counterfactuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/looping.html">Looping over Randomized Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/temporal_graph.html">Temporal Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/m_graphs.html">Missing Graphs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Details</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rules and Conventions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#description-outlines">Description Outlines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-names">Node Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edge-names">Edge Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="#values">Values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#inducing-randomization">Inducing Randomization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#limiting-the-connection-randomization">Limiting the Connection Randomization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guideline-outlines">Guideline Outlines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="diagrams.html">Diagrams</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PARCS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Rules and Conventions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/technical/conventions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rules-and-conventions">
<h1>Rules and Conventions<a class="headerlink" href="#rules-and-conventions" title="Link to this heading"></a></h1>
<p>In this document, we present the PARCS conventions for descriptions, guidelines, etc.</p>
<section id="description-outlines">
<span id="conventions-description-outline"></span><h2>Description Outlines<a class="headerlink" href="#description-outlines" title="Link to this heading"></a></h2>
<p>Outline is a Python dictionary (or a YAML file) to define a graph:</p>
<section id="general">
<h3>General<a class="headerlink" href="#general" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>It is not required to sort the nodes and edges in the YAML file or when writing the dictionary. But this would help better readability of the code. It is also advised to use comment lines to explain the YAML file lines.</p></li>
</ul>
</section>
<section id="node-names">
<h3>Node Names<a class="headerlink" href="#node-names" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The best practice is to use clear node names, which only includes one underscore, followed by a number. Example: <code class="docutils literal notranslate"><span class="pre">Z_1</span></code>.</p></li>
<li><p>If the node name is longer than 1 letter, it is advised to capitalize the first letter. This will help especially with the clarity of parameters’ equations. Example: <code class="docutils literal notranslate"><span class="pre">mu_=</span> <span class="pre">2AgeHeight</span></code> instead of <code class="docutils literal notranslate"><span class="pre">mu_=2ageheight</span></code></p></li>
<li><p>Special characters (other than underscore) are <em>not allowed</em>. Also, the node name must start with a letter.</p></li>
<li><p>It is advised to use node names that are not an exact subset of other names. Example: having both <code class="docutils literal notranslate"><span class="pre">A_1</span></code> and <code class="docutils literal notranslate"><span class="pre">A_11</span></code> nodes. This naming does not violate any parsing rules, and PARCS is allowed to handle it; but it is the best practice if you can avoid it, e.g. by padding the indices when the nodes are numbered: <code class="docutils literal notranslate"><span class="pre">A_01,</span> <span class="pre">A_02,</span> <span class="pre">...,</span> <span class="pre">A_11</span></code>.</p></li>
</ul>
</section>
<section id="edge-names">
<h3>Edge Names<a class="headerlink" href="#edge-names" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Edge names always are made of node names and a connectiong <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> symbol.</p></li>
<li><p>Obviously, node names and edges must be consistent. In other words, if there is an <cite>A-&gt;B</cite> edge, there must be nodes <cite>A</cite> and <cite>B</cite> defined (unless using <code class="docutils literal notranslate"><span class="pre">infer_edges</span></code> parameter).</p></li>
</ul>
</section>
<section id="values">
<h3>Values<a class="headerlink" href="#values" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The values for nodes and edges are distribution and edge functions respectively. The order of parameters does not matter.</p></li>
<li><p>Spaces are allowed in the values. When parsing, PARCS strips the string of the spaces.</p></li>
<li><p>The order of line extensions such as <code class="docutils literal notranslate"><span class="pre">correction[]</span></code> and <code class="docutils literal notranslate"><span class="pre">tags[]</span></code> does not matter.</p></li>
</ul>
</section>
</section>
<section id="inducing-randomization">
<span id="conventions-inducing-randomization"></span><h2>Inducing Randomization<a class="headerlink" href="#inducing-randomization" title="Link to this heading"></a></h2>
<p>To tell PARCS to randomize part of the graph description, follow the conventions below:</p>
<ul class="simple">
<li><p><strong>Node distributions and edge functions</strong>: The <code class="docutils literal notranslate"><span class="pre">random</span></code> keyword tells PARCS to sample the distributions or functions from the line. example: <code class="docutils literal notranslate"><span class="pre">A:</span> <span class="pre">random</span></code>, <code class="docutils literal notranslate"><span class="pre">A-&gt;B:</span> <span class="pre">random</span></code></p></li>
<li><p><strong>All parameters</strong>: the <code class="docutils literal notranslate"><span class="pre">?</span></code> symbol in the parenthesis of the function or distribution randomizes all the parameters; example: <code class="docutils literal notranslate"><span class="pre">A:</span> <span class="pre">normal(?)</span></code>, <code class="docutils literal notranslate"><span class="pre">A-&gt;B:</span> <span class="pre">sigmoid(?)</span></code></p></li>
<li><p><strong>Single parameters</strong>: <code class="docutils literal notranslate"><span class="pre">?</span></code> in front of a parameter randomizes it only; example: <code class="docutils literal notranslate"><span class="pre">A:</span> <span class="pre">normal(mu_=?,</span> <span class="pre">sigma_=1)</span></code>, <code class="docutils literal notranslate"><span class="pre">A-&gt;B:arctan(alpha=3,</span> <span class="pre">beta=?,</span> <span class="pre">gamma=0)</span></code></p></li>
<li><p><strong>Single coefficient (nodes)</strong>: <code class="docutils literal notranslate"><span class="pre">?</span></code> at the beginning of a term randomizes the coefficient for that term; example: <code class="docutils literal notranslate"><span class="pre">A:</span> <span class="pre">normal(mu_=2X+?Y,</span> <span class="pre">sigma_=1)</span></code></p></li>
</ul>
</section>
<section id="limiting-the-connection-randomization">
<h2>Limiting the Connection Randomization<a class="headerlink" href="#limiting-the-connection-randomization" title="Link to this heading"></a></h2>
<p>We can suppress a distribution parameter in the child subgraph from receiving any incoming new edge (from the parent subgraph) with a <code class="docutils literal notranslate"><span class="pre">!</span></code> symbol behind the parameter name. Suppose the description below defines a child subgraph:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">A</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">normal(mu_=2X+3Y, !sigma_=2)</span>
</pre></div>
</div>
<p>When randomizing the connection of a parent subgraph to this child subgraph, the <code class="docutils literal notranslate"><span class="pre">sigma_</span></code> parameter won’t receive any new edges.</p>
</section>
<section id="guideline-outlines">
<span id="conventions-guideline"></span><h2>Guideline Outlines<a class="headerlink" href="#guideline-outlines" title="Link to this heading"></a></h2>
<p>A guideline outline may consist of three main keys: nodes, edges, and graph:</p>
<p><code class="docutils literal notranslate"><span class="pre">graph</span></code> key may include <code class="docutils literal notranslate"><span class="pre">num_nodes</span></code> and <code class="docutils literal notranslate"><span class="pre">density</span></code> keys. Num nodes must be defined with <code class="docutils literal notranslate"><span class="pre">i-range</span></code> directive, and determines the number of nodes, used by the <a class="reference internal" href="../getting_started/partial_randomization.html#random-description-doc"><span class="std std-ref">random description class</span></a>. The Density must be defined maximum in the 0-1 range. It defines the graph sparsity (1-density). It is used by random description class and the <a class="reference internal" href="../getting_started/partial_randomization.html#connection-randomization-doc"><span class="std std-ref">connection randomization method</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">nodes</span></code> key includes the distribution names, which in return have parameter randomization directives. The main pattern is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">distribution1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameter1</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[[</span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]]</span>
<span class="w">    </span><span class="nt">parameter2</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[[</span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">],</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]]</span>
<span class="w">    </span><span class="nt">parameter3</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">distribution2</span><span class="p">:</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>The three <code class="docutils literal notranslate"><span class="pre">[...]</span></code> lists for parameters correspond to bias, linear, and interactions coefficients. If a distribution name exists in the guideline, it will be a candidate for <code class="docutils literal notranslate"><span class="pre">random</span></code> nodes in the description.</p>
<p><code class="docutils literal notranslate"><span class="pre">edges</span></code> key includes the edge functions, which in return have parameter directives. The main pattern is:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">function1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">parameter1</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">parameter2</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">parameter3</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">function2</span><span class="p">:</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>Unlike the nodes, edge function parameters need only one directive.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">identity</span></code> edge function needs <code class="docutils literal notranslate"><span class="pre">null</span></code> (in Yaml) or <code class="docutils literal notranslate"><span class="pre">None</span></code> (in Python) as the value.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../features/m_graphs.html" class="btn btn-neutral float-left" title="Missing Graphs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Fraunhofer Institute for Cognitive Systems (IKS).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>