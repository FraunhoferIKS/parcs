<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Looping over Randomized Parameters &mdash; PARCS 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=8d563738"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Temporal Graphs" href="temporal_graph.html" />
    <link rel="prev" title="Interventions and Counterfactuals" href="interventions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/parcs_dark_small.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/theoretical_background.html">Theoretical background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/first_graph.html">Creating the First Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/function_list.html">Available Functions and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/nodes_and_edges.html">Nodes and Edges</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/partial_randomization.html">Partial Randomization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="interventions.html">Interventions and Counterfactuals</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Looping over Randomized Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="temporal_graph.html">Temporal Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="m_graphs.html">Missing Graphs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Details</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technical/conventions.html">Rules and Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technical/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technical/diagrams.html">Diagrams</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PARCS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Looping over Randomized Parameters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/features/looping.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="looping-over-randomized-parameters">
<h1>Looping over Randomized Parameters<a class="headerlink" href="#looping-over-randomized-parameters" title="Link to this heading"></a></h1>
<p>In the <a class="reference internal" href="../getting_started/partial_randomization.html#partial-randomization"><span class="std std-ref">Partial randomization</span></a> section, we explained how to generate graphs from a graph parameter space. What might come after, is running an algorithm on many generated graphs and measuring the performance of the algorithm with respect to a graph parameter, e.g. the number of nodes. <code class="docutils literal notranslate"><span class="pre">GuidelineIterator</span></code> allows us to change a graph parameter in a loop, and do such analyses.</p>
<p>To use the iterator, the guideline outline doesn’t need to change. The only point is that the randomization directive of the target parameter, becomes the looping directive. Let’s say we want to iterate over number of nodes and run an algorithm:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">graph.py</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">pyparcs</span> <span class="kn">import</span> <span class="n">RandomDescription</span><span class="p">,</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">GuidelineIterator</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="linenos"> 3</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="hll"><span class="linenos"> 5</span><span class="n">iterator</span> <span class="o">=</span> <span class="n">GuidelineIterator</span><span class="p">(</span>
</span><span class="linenos"> 6</span>    <span class="p">{</span><span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bernoulli&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;p_&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;f-range&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;f-range&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">0</span><span class="p">]},</span>
<span class="linenos"> 7</span>               <span class="s1">&#39;poisson&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lambda_&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;f-range&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;f-range&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">0</span><span class="p">]}},</span>
<span class="linenos"> 8</span>     <span class="s1">&#39;edges&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
<span class="linenos"> 9</span>     <span class="s1">&#39;graph&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;f-range&#39;</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;num_nodes&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;i-range&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">]}}</span>
<span class="linenos">10</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="hll"><span class="linenos">12</span><span class="k">for</span> <span class="n">guideline</span> <span class="ow">in</span> <span class="n">iterator</span><span class="o">.</span><span class="n">get_guidelines</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="s1">&#39;graph.num_nodes&#39;</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
</span><span class="linenos">13</span>    <span class="n">description</span> <span class="o">=</span> <span class="n">RandomDescription</span><span class="p">(</span><span class="n">guideline</span><span class="p">,</span> <span class="n">node_prefix</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="linenos">14</span>    <span class="n">graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>
<span class="linenos">15</span>    <span class="n">samples</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">16</span>    <span class="nb">print</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">===&#39;</span><span class="p">)</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="c1">#    X_1  X_0</span>
<span class="linenos">19</span><span class="c1"># 0  4.0  1.0</span>
<span class="linenos">20</span><span class="c1"># 1  0.0  0.0</span>
<span class="linenos">21</span><span class="c1"># 2  2.0  1.0</span>
<span class="linenos">22</span><span class="c1"># 3  1.0  0.0</span>
<span class="linenos">23</span><span class="c1"># ===</span>
<span class="linenos">24</span><span class="c1">#    X_3  X_0  X_2  X_1</span>
<span class="linenos">25</span><span class="c1"># 0  0.0  0.0  0.0  1.0</span>
<span class="linenos">26</span><span class="c1"># 1  0.0  1.0  1.0  1.0</span>
<span class="linenos">27</span><span class="c1"># 2  0.0  0.0  0.0  1.0</span>
<span class="linenos">28</span><span class="c1"># 3  0.0  1.0  1.0  1.0</span>
<span class="linenos">29</span><span class="c1"># ===</span>
<span class="linenos">30</span><span class="c1">#    X_1  X_3  X_4  X_0  X_2  X_5</span>
<span class="linenos">31</span><span class="c1"># 0  0.0  1.0  1.0  1.0  4.0  1.0</span>
<span class="linenos">32</span><span class="c1"># 1  0.0  0.0  1.0  1.0  0.0  1.0</span>
<span class="linenos">33</span><span class="c1"># 2  0.0  0.0  1.0  1.0  0.0  1.0</span>
<span class="linenos">34</span><span class="c1"># 3  1.0  0.0  1.0  1.0  0.0  2.0</span>
<span class="linenos">35</span><span class="c1"># ===</span>
</pre></div>
</div>
</div>
<p>By passing the outline to the <code class="docutils literal notranslate"><span class="pre">GuidelineIterator</span></code> rather than the <code class="docutils literal notranslate"><span class="pre">Guideline</span></code> class, and calling the <code class="docutils literal notranslate"><span class="pre">get_guidelines</span></code>, you get a generator that yields a guideline according to the outline, with only the exception of the directive which is specified by the <code class="docutils literal notranslate"><span class="pre">route</span></code> argument: That argument is fixed (based on the <code class="docutils literal notranslate"><span class="pre">step</span></code> argument for each iteration.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To iterate over the distribution parameters coefficients, you can use the keywords <code class="docutils literal notranslate"><span class="pre">bias,</span> <span class="pre">linear,</span> <span class="pre">interaction</span></code>. Example: <code class="docutils literal notranslate"><span class="pre">route</span> <span class="pre">=</span> <span class="pre">'nodes.normal.mu_.linear'</span></code></p>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="interventions.html" class="btn btn-neutral float-left" title="Interventions and Counterfactuals" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="temporal_graph.html" class="btn btn-neutral float-right" title="Temporal Graphs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Fraunhofer Institute for Cognitive Systems (IKS).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>